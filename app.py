from flask import Flask, request, jsonify, render_template
from gtts import gTTS
import os

app = Flask(__name__)

# ಕೀವರ್ಡ್‌ಗಳ ಆಧಾರದ ನಮೂನೆ ಸಂದೇಶಗಳು
responses = {
"ಹಲೋ": "ನಮಸ್ಕಾರ! ನಮ್ಮ ಆರೋಗ್ಯ ಚಾಟ್ ಸೇವೆಗೆ ಸುಸ್ವಾಗತ. ನೀವು ಇಲ್ಲಿರಲು ಸಂತೋಷವಾಗಿದೆ ಮತ್ತು ನಿಮ್ಮ ಯಾವುದೇ ಆರೋಗ್ಯ ಸಂಬಂಧಿತ ಕಾಳಜಿಯನ್ನು ನಿವಾರಿಸಲು ಅಗತ್ಯವಾದ ಸಹಾಯ ಮತ್ತು ಮಾರ್ಗದರ್ಶನವನ್ನು ನೀಡಲು ನಾನು ಸಮರ್ಪಿತನಾಗಿದ್ದೇನೆ. ನಿಮಗೆ ಇಂದು ಹೇಗನ್ನಿಸುತ್ತಿದೆ?",
"ಹುಷಾರಿಲ್ಲ":"ನಿಮಗೆ ಯಾವುದೇ ನೋವು ಅಥವಾ ಅಸ್ವಸ್ಥತೆ ಇದೆಯೇ?",
"ಹಾಗೆ ಏನೂ ಇಲ್ಲ":"ಯಾವುದೇ ಕೆಮ್ಮು, ದಟ್ಟಣೆ ಅಥವಾ ಉಸಿರಾಟದ ತೊಂದರೆ?",
"ಹೌದು ಅದು ಇದೆ":"ಇದಕ್ಕಾಗಿ ನೀವು ಬೇರೆ ವೈದ್ಯರನ್ನು ನೋಡಿದ್ದೀರಾ?",
"ಹಾಗೆ ಯಾರೂ ಇಲ್ಲ":"ನಿಮ್ಮ ಮುಖ್ಯ ಕಾಳಜಿ ಏನು?",
"ಅನಾರೋಗ್ಯ": "ಅನಾರೋಗ್ಯವು ವ್ಯಕ್ತಿಯ ನರ ಸಂವೇದನೆ ಮತ್ತು ಉನ್ನತ ಮಟ್ಟದ ಸ್ಥಿರತೆಗೆ ಸಂಬಂಧಿಸಿದ ಅನುಭವವಾಗಿದೆ, ಅದು ಅವರನ್ನು ನಿರ್ದಿಷ್ಟ ಸ್ಥಾನದಲ್ಲಿರಿಸುತ್ತದೆ.",
"ಧನ್ಯವಾದಗಳು": "ನಿಮಗೆ ಸ್ವಾಗತ! ನೆನಪಿಡಿ, ಮತ್ತು ನೆನಪಿನಲ್ಲಿಡಿ, ಈ ಪ್ರಯಾಣದಲ್ಲಿ ನೀವು ಏಕಾಂಗಿಯಲ್ಲ. ದಾರಿಯ ಪ್ರತಿಯೊಂದು ಹಂತದಲ್ಲೂ ನಿಮ್ಮನ್ನು ಬೆಂಬಲಿಸಲು ನಾವು ಇಲ್ಲಿದ್ದೇವೆ. ನಿಮಗೆ ಉತ್ತಮ ಆರೋಗ್ಯ ಮತ್ತು ಚೈತನ್ಯವನ್ನು ಬಯಸುತ್ತೇನೆ. ಮುಂದಿನ ಬಾರಿಯವರೆಗೆ, ವಿದಾಯ!",
"ಬೆನ್ನು ನೋವು ಕಾರಣಗಳು": "ಅತಿಯಾದ ಬಳಕೆ, ಅಸಮರ್ಪಕ ಎತ್ತುವಿಕೆ, ಅಥವಾ ಹಠಾತ್ ಚಲನೆಗಳು ಬೆನ್ನಿನ ಸ್ನಾಯುಗಳು ಅಥವಾ ಅಸ್ಥಿರಜ್ಜುಗಳನ್ನು ಒತ್ತಡಗೊಳಿಸಬಹುದು. ಮೂಳೆಗಳು ರಂಧ್ರಗಳು ಮತ್ತು ಒಡೆಯುವ ಸ್ಥಿತಿ, ಮುರಿತಗಳ ಅಪಾಯವನ್ನು ಹೆಚ್ಚಿಸುತ್ತದೆ. ಸ್ಕೋಲಿಯೋಸಿಸ್ ನಂತಹ ಪರಿಸ್ಥಿತಿಗಳು ಬೆನ್ನುನೋವಿಗೆ ಕಾರಣವಾಗಬಹುದು.",
"ಬೆನ್ನುನೋವಿನ ಲಕ್ಷಣಗಳು": "ಇದು ಒಂದು ಪ್ರದೇಶಕ್ಕೆ ಸ್ಥಳೀಕರಿಸಬಹುದು ಅಥವಾ ದೇಹದ ಇತರ ಭಾಗಗಳಿಗೆ ಹರಡಬಹುದು. ಪ್ರಮುಖ ಸ್ನಾಯುಗಳನ್ನು ಬಲಪಡಿಸುವುದು ಬೆನ್ನುಮೂಳೆಯನ್ನು ಬೆಂಬಲಿಸಲು ಮತ್ತು ಗಾಯವನ್ನು ತಡೆಯಲು ಸಹಾಯ ಮಾಡುತ್ತದೆ. ನೇರವಾಗಿ ನಿಲ್ಲಲು ಅಥವಾ ಕೆಲವು ಚಟುವಟಿಕೆಗಳನ್ನು ಮಾಡಲು ಕಷ್ಟವಾಗುವುದು.",
"ಬೆನ್ನುನೋವು ತಡೆಗಟ್ಟುವಿಕೆ": "ವಿರಾಮವಿಲ್ಲದೆ ದೀರ್ಘಕಾಲದವರೆಗೆ ಬಾಗಿ ಕುಳಿತುಕೊಳ್ಳುವುದನ್ನು ತಪ್ಪಿಸಿ. ಮೊಣಕಾಲುಗಳ ಬಳಿ ಬಾಗಿ ಮತ್ತು ನಿಮ್ಮ ಬೆನ್ನಿನ ಬದಲು ನಿಮ್ಮ ಕಾಲುಗಳಿಂದ ಎತ್ತಿ. ಪ್ರಮುಖ ಸ್ನಾಯುಗಳನ್ನು ಬಲಪಡಿಸುವುದು ಬೆನ್ನುಮೂಳೆಯನ್ನು ಬೆಂಬಲಿಸಲು ಮತ್ತು ಗಾಯವನ್ನು ತಡೆಯಲು ಸಹಾಯ ಮಾಡುತ್ತದೆ. ಉತ್ತಮ ಭಂಗಿಯನ್ನು ಬೆಂಬಲಿಸುವ ಕುರ್ಚಿಗಳು ಮತ್ತು ಮೇಜುಗಳು ಬೆನ್ನಿನ ಒತ್ತಡವನ್ನು ತಡೆಗಟ್ಟಲು ಸಹಾಯ ಮಾಡುತ್ತದೆ.",
"ಬೆನ್ನುನೋವು ಔಷಧ":"ನಾನ್ ಸ್ಟೆರಾಯ್ಡ್ ಆಂಟಿ-ಇನ್ಫ್ಲಮೇಟರಿ ಡ್ರಗ್ಸ್ ಉದಾಹರಣೆಗಳಲ್ಲಿ ಇಬುಪ್ರೊಫೇನ್ ಮತ್ತು ನಾಪ್ರೋಕ್ಸೆನ್ ಸೇರಿವೆ. ಓಪಿಯಾಡ್ಗಳು: ಉದಾಹರಣೆಗಳಲ್ಲಿ ಆಕ್ಸಿಕೋಡೋನ್ ಮತ್ತು ಹೈಡ್ರೋಕೋಡೋನ್ ಸೇರಿವೆ.",
"ಆಹಾರ ವಿಷದ ಕಾರಣಗಳು":" ಸಾಮಾನ್ಯ ಬ್ಯಾಕ್ಟೀರಿಯಾದ ಕಾರಣಗಳಲ್ಲಿ ಸಾಲ್ಮೊನೆಲ್ಲಾ, ಇ.ಕೋಲಿ, ಕ್ಯಾಂಪೈಲೋಬ್ಯಾಕ್ಟರ್ ಮತ್ತು ಲಿಸ್ಟೀರಿಯಾ ಸೇರಿವೆ.ನೊರೊವೈರಸ್ ಮತ್ತು ಹೆಪಟೈಟಿಸ್ ಎ ನಂತಹ ವೈರಲ್ ರೋಗಕಾರಕಗಳು ಸಹ ಆಹಾರ ವಿಷಕ್ಕೆ ಕಾರಣವಾಗಬಹುದು. ಗಿಯಾರ್ಡಿಯಾ ಮತ್ತು ಕ್ರಿಪ್ಟೋಸ್ಪೊರಿಡಿಯಂನಂತಹ ಪರಾವಲಂಬಿ ಸೋಂಕುಗಳು ಕಲುಷಿತ ಆಹಾರ ಅಥವಾ ನೀರಿನ ಮೂಲಕ ಹರಡಬಹುದು.",
"ಆಹಾರ ವಿಷದ ಲಕ್ಷಣಗಳು": "ವಾಕರಿಕೆ, ವಾಂತಿ, ಅತಿಸಾರ, ಕಿಬ್ಬೊಟ್ಟೆಯ ಸೆಳೆತ, ಮತ್ತು ಹೊಟ್ಟೆ ನೋವು. ರೋಗಲಕ್ಷಣಗಳು ಸೌಮ್ಯ ಅಸ್ವಸ್ಥತೆಯಿಂದ ಹಿಡಿದು ಆಸ್ಪತ್ರೆಗೆ ದಾಖಲಾಗುವ ಅಗತ್ಯವಿರುವ ತೀವ್ರ ಅನಾರೋಗ್ಯದವರೆಗೆ ಇರಬಹುದು, ಇದು ರೋಗಕಾರಕ ಏಜೆಂಟ್ ಮತ್ತು ವೈಯಕ್ತಿಕ ಅಂಶಗಳನ್ನು ಅವಲಂಬಿಸಿರುತ್ತದೆ. ಜ್ವರ, ತಲೆನೋವು, ಸ್ನಾಯು ನೋವು, ಮತ್ತು ಆಯಾಸ.",
"ಆಹಾರ ವಿಷ ತಡೆಗಟ್ಟುವಿಕೆ":" ಕೈಗಳು ಮತ್ತು ಮೇಲ್ಮೈಗಳನ್ನು ಆಗಾಗ್ಗೆ ತೊಳೆಯಿರಿ, ಕಚ್ಚಾ ಮಾಂಸವನ್ನು ಇತರ ಆಹಾರಗಳಿಂದ ಬೇರ್ಪಡಿಸಿ, ಸರಿಯಾದ ತಾಪಮಾನಕ್ಕೆ ಆಹಾರವನ್ನು ಬೇಯಿಸಿ ಮತ್ತು ಬೇಗ ಹಾಳಾಗುವ ಆಹಾರಗಳನ್ನು ತ್ವರಿತವಾಗಿ ಶೈತ್ಯೀಕರಿಸಿ. ವಾಂತಿ ಮತ್ತು ಅತಿಸಾರದಿಂದ ಉಂಟಾಗುವ ನಿರ್ಜಲೀಕರಣವನ್ನು ತಡೆಯಲು ಸಾಕಷ್ಟು ದ್ರವಗಳನ್ನು ಕುಡಿಯಿರಿ. ದೇಹವು ಚೇತರಿಸಿಕೊಳ್ಳಲು ಸಾಕಷ್ಟು ವಿಶ್ರಾಂತಿ ಪಡೆಯಿರಿ.",
"ಫುಡ್ ಪಾಯಿಸನ್ ಮೆಡಿಸಿನ್": "ಅತಿಸಾರವನ್ನು ಕಡಿಮೆ ಮಾಡಲು ಲೊಪೆರಮೈಡ್ ನಂತಹ ಅತಿಸಾರ ವಿರೋಧಿ ಔಷಧಿಗಳು. ವಾಕರಿಕೆ ಮತ್ತು ವಾಂತಿಯನ್ನು ನಿವಾರಿಸಲು ಒಂಡಾನ್ಸೆಟ್ರೊಂಟೊದಂತಹ ಆಂಟಿಮೆಟಿಕ್ಸ್. ಜ್ವರ ಮತ್ತು ಸ್ನಾಯು ನೋವುಗಳಿಗೆ ಅಸೆಟಾಮಿನೋಫೆನ್.",
"ಒಣ ಕಣ್ಣುಗಳು ಕಾರಣಗಳು": "ವಯಸ್ಸಾದಂತೆ ಕಣ್ಣೀರಿನ ಉತ್ಪಾದನೆಯು ಕಡಿಮೆಯಾಗುತ್ತದೆ, ಇದು ಕಣ್ಣುಗಳನ್ನು ಒಣಗಿಸಲು ಕಾರಣವಾಗುತ್ತದೆ. ಡಿಜಿಟಲ್ ಪರದೆಗಳು ಅಥವಾ ಕಾಂಟ್ಯಾಕ್ಟ್ ಲೆನ್ಸ್ ಗಳ ದೀರ್ಘಕಾಲದ ಬಳಕೆಯು ಕಣ್ಣುಗಳನ್ನು ಒಣಗಿಸಲು ಕಾರಣವಾಗಬಹುದು. ಆಂಟಿಹಿಸ್ಟಮೈನ್ಗಳು, ಡಿಕೊಂಗಸ್ಟೆಂಟ್ಗಳು, ಖಿನ್ನತೆ-ಶಮನಕಾರಿಗಳು ಮತ್ತು ಕೆಲವು ರಕ್ತದೊತ್ತಡದ ಔಷಧಿಗಳು ಕಣ್ಣೀರಿನ ಉತ್ಪಾದನೆಯನ್ನು ಕಡಿಮೆ ಮಾಡಬಹುದು. ಗಾಳಿ, ಹೊಗೆ, ಶುಷ್ಕ ಗಾಳಿ ಅಥವಾ ಹವಾನಿಯಂತ್ರಣಕ್ಕೆ ಒಡ್ಡಿಕೊಳ್ಳುವುದರಿಂದ ಕಣ್ಣೀರು ಬೇಗನೆ ಆವಿಯಾಗುತ್ತದೆ.",
"ಒಣ ಕಣ್ಣುಗಳ ರೋಗಲಕ್ಷಣಗಳು":" ಕಣ್ಣುಗಳಲ್ಲಿ ಕಿರಿಕಿರಿ ಅಥವಾ ಅಸ್ವಸ್ಥತೆ. ಕಣ್ಣುಗಳು ಕೆಂಪು ಅಥವಾ ರಕ್ತಸಿಕ್ತವಾಗಿ ಕಾಣಿಸಬಹುದು. ಬೆಳಕಿಗೆ ಹೆಚ್ಚಿದ ಸಂವೇದನೆ, ವಿಶೇಷವಾಗಿ ಪ್ರಕಾಶಮಾನವಾದ ಪರಿಸರದಲ್ಲಿ. ಗಂಟಲು ಅಥವಾ ಗೀಚುವಿಕೆಯ ಅನುಭವ.",
"ಒಣ ಕಣ್ಣುಗಳ ತಡೆಗಟ್ಟುವಿಕೆ": "ಕಣ್ಣು ಮಿಟುಕಿಸುವಿಕೆಯು ಕಣ್ಣುಗಳ ಮೇಲ್ಮೈಯಲ್ಲಿ ಕಣ್ಣೀರನ್ನು ಸಮಾನವಾಗಿ ಹರಡಲು ಸಹಾಯ ಮಾಡುತ್ತದೆ. ಆರ್ದ್ರಕದೊಂದಿಗೆ ಗಾಳಿಗೆ ತೇವಾಂಶವನ್ನು ಸೇರಿಸುವುದರಿಂದ ಶುಷ್ಕತೆಯನ್ನು ತಡೆಗಟ್ಟಲು ಸಹಾಯ ಮಾಡುತ್ತದೆ, ವಿಶೇಷವಾಗಿ ಶುಷ್ಕ ಒಳಾಂಗಣ ವಾತಾವರಣದಲ್ಲಿ. ಡಿಜಿಟಲ್ ಪರದೆಗಳನ್ನು ಬಳಸುವಾಗ ಅಥವಾ ದೀರ್ಘಕಾಲದ ಗಮನದ ಅಗತ್ಯವಿರುವ ಕಾರ್ಯಗಳನ್ನು ನಿರ್ವಹಿಸುವಾಗ, ನಿಮ್ಮ ಕಣ್ಣುಗಳಿಗೆ ವಿಶ್ರಾಂತಿ ನೀಡಲು ನಿಯಮಿತ ವಿರಾಮಗಳನ್ನು ತೆಗೆದುಕೊಳ್ಳಿ.",
"ಒಣ ಕಣ್ಣುಗಳ ಔಷಧ":"ಪ್ರಿಸ್ಕ್ರಿಪ್ಷನ್ ಐ ಡ್ರಾಪ್ಸ್:ಉದಾಹರಣೆಗಳಲ್ಲಿ ಇವು ಸೇರಿವೆ: ಸೈಕ್ಲೋಸ್ಪೊರಿನ್, ಲಿಫಿಟೆಗ್ರಾಸ್ಟ್.: ತೀವ್ರವಾದ ಉರಿಯೂತದ ಸಂದರ್ಭಗಳಲ್ಲಿ, ಊತ ಮತ್ತು ಅಸ್ವಸ್ಥತೆಯನ್ನು ಕಡಿಮೆ ಮಾಡಲು ಸ್ಟೀರಾಯ್ಡ್ ಕಣ್ಣಿನ ಹನಿಗಳ ಅಲ್ಪಾವಧಿಯ ಬಳಕೆಯನ್ನು ಸೂಚಿಸಬಹುದು.",
"ಸಾಮಾನ್ಯ ಶೀತ ಕಾರಣಗಳು": "ಸಾಮಾನ್ಯ ಶೀತವು ಹೆಚ್ಚಾಗಿ ವೈರಸ್ ಗಳಿಂದ ಉಂಟಾಗುತ್ತದೆ, ರೈನೋವೈರಸ್ ಗಳು ಅತ್ಯಂತ ಸಾಮಾನ್ಯ ಅಪರಾಧಿಗಳಾಗಿವೆ. ಕರೋನವೈರಸ್ಗಳು ಮತ್ತು ಅಡೆನೊವೈರಸ್ಗಳಂತಹ ಇತರ ವೈರಸ್ಗಳು ಸಹ ಶೀತಕ್ಕೆ ಕಾರಣವಾಗಬಹುದು. ಶೀತವು ಹೆಚ್ಚು ಸಾಂಕ್ರಾಮಿಕವಾಗಿದೆ ಮತ್ತು ಸೋಂಕಿತ ವ್ಯಕ್ತಿಯು ಕೆಮ್ಮಿದಾಗ, ಸೀನಿದಾಗ ಅಥವಾ ಮಾತನಾಡುವಾಗ ಉಸಿರಾಟದ ಹನಿಗಳ ಮೂಲಕ ಹರಡುತ್ತದೆ. ವೈರಸ್ನಿಂದ ಕಲುಷಿತಗೊಂಡ ಮೇಲ್ಮೈಗಳನ್ನು ಸ್ಪರ್ಶಿಸುವ ಮೂಲಕ ಮತ್ತು ನಂತರ ಮೂಗು, ಬಾಯಿ ಅಥವಾ ಕಣ್ಣುಗಳನ್ನು ಸ್ಪರ್ಶಿಸುವ ಮೂಲಕವೂ ಅವು ಹರಡಬಹುದು.",
"ಸಾಮಾನ್ಯ ಶೀತದ ಲಕ್ಷಣಗಳು": "ಮೂಗು ಕಟ್ಟುವಿಕೆ ಅಥವಾ ಸೋರುವಿಕೆಯು ಒಂದು ವಿಶಿಷ್ಟ ಲಕ್ಷಣವಾಗಿದೆ. ಆಗಾಗ್ಗೆ ಸೀನುವಿಕೆ ಸಂಭವಿಸಬಹುದು. ಗಂಟಲಿನಲ್ಲಿ ಕಿರಿಕಿರಿ ಅಥವಾ ಗೀರು. ಸೌಮ್ಯ ಸ್ನಾಯು ನೋವು ಮತ್ತು ನೋವುಗಳು ಇರಬಹುದು. ಕೆಲವು ಜನರು ದೇಹದ ಉಷ್ಣತೆಯಲ್ಲಿ ಸ್ವಲ್ಪ ಹೆಚ್ಚಳವನ್ನು ಅನುಭವಿಸಬಹುದು.",
"ಸಾಮಾನ್ಯ ಶೀತ ತಡೆಗಟ್ಟುವಿಕೆ": "ಕನಿಷ್ಠ 20 ಸೆಕೆಂಡುಗಳ ಕಾಲ ಸಾಬೂನು ಮತ್ತು ನೀರಿನಿಂದ ಆಗಾಗ್ಗೆ ಕೈಗಳನ್ನು ತೊಳೆಯಿರಿ, ವಿಶೇಷವಾಗಿ ಕೆಮ್ಮು, ಸೀನುವಿಕೆ ಅಥವಾ ಮೇಲ್ಮೈಗಳನ್ನು ಸ್ಪರ್ಶಿಸಿದ ನಂತರ. ಶೀತದ ರೋಗಲಕ್ಷಣಗಳನ್ನು ಹೊಂದಿರುವ ಜನರೊಂದಿಗೆ ನಿಕಟ ಸಂಪರ್ಕವನ್ನು ಮಿತಿಗೊಳಿಸಿ. ಕೆಮ್ಮುವಾಗ ಅಥವಾ ಸೀನುವಾಗ ನಿಮ್ಮ ಬಾಯಿ ಮತ್ತು ಮೂಗನ್ನು ಮುಚ್ಚಲು ನಿಮ್ಮ ಮೊಣಕೈಯ ಅಂಗಾಂಶ ಅಥವಾ ವಂಚಕವನ್ನು ಬಳಸಿ. ತೊಳೆಯದ ಕೈಗಳಿಂದ ನಿಮ್ಮ ಕಣ್ಣುಗಳು, ಮೂಗು ಮತ್ತು ಬಾಯಿಯನ್ನು ಸ್ಪರ್ಶಿಸುವುದನ್ನು ತಪ್ಪಿಸಿ.",
"ಸಾಮಾನ್ಯ ಶೀತ ಔಷಧಿ": "ಕೆಲವು ಕೆಮ್ಮು ನಿಗ್ರಹಕಗಳು ಕೆಮ್ಮಿನ ರೋಗಲಕ್ಷಣಗಳನ್ನು ನಿವಾರಿಸಲು ಸಹಾಯ ಮಾಡುತ್ತದೆ. ಉದಾಹರಣೆಗಳಲ್ಲಿ ಡೆಕ್ಸ್ಟ್ರೋಮೆಥೊ ಸೇರಿವೆ"
}

def get_response(message):
    message = message.lower()
    for keyword in responses:
        if keyword.lower() in message:
            return responses[keyword]
    return "ಕ್ಷಮಿಸಿ, ನಾನು ಅರ್ಥ ಮಾಡಲಾಗಲಿಲ್ಲ."

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/speech', methods=['POST'])
def speech():
    message = request.json['message']
    response_text = get_response(message)
    # ಧ್ವನಿ ಪ್ರತಿಸಾದವನ್ನು ಉತ್ಪನ್ನಿಸು
    speech_response = gTTS(text=response_text, lang='kn', slow=False)
    speech_response.save("response.mp3")

    return jsonify({'response_text': response_text, 'response_speech': 'response.mp3'})

if __name__ == '__main__':
    app.run(debug=True)